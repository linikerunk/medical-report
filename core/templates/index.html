{% extends 'base.html' %}
{% load static %}

{% block titulo %} Tabela {% endblock %}

{% block conteudo %}
<div class="row">
    <div class="col-md-12">
        <h3>Tabela de Exames</h3>   
        <hr>
    </div> <!-- ./col-md-12 -->

    <div class="col-md-5 mb-2">
    <select id="doctor" class="form-control" name="doctor_name">
    <option  disabled selected>Filtrar pelo nome do médico.</option>
    {% for obj in medical_exam %}
    <option  name="doctor_name" value="{{ obj }}" >{{ obj.doctor_name }} </option>
    {% endfor %}
    </select>
    </div> <!-- ./col-md-5 -->
    
    <div class="col-md-5 mb-2">
    <form id="search_form" method="GET" action="{% url 'core:search' %}">
    <input type="text" name="term" id="query_date" value="{{ request.GET.term }}"
    class="form-control" placeholder="Digite a data do Exame. (Ex: 10/10/2020)">
    </div> <!-- ./col-md-5 -->

    <div class="col-md-2">
        <button type="submit" class="btn btn-success w-100">Pesquisar</button>
      </form>
    </div>

    <div class="col-md-12">
    <table class="table table-striped table border rounded bg-light shadow">
        <thead id="custom-thead">
          <tr>
              <th>Nome do Médico</th>
              <th>Número da Guia</th>
              <th>Data da Consulta</th>
              <th>Valor da Consulta</th>
              <th>Gasto por Consulta</th>
              <th>Qtde Exames</th>
          </tr>
        </thead>
        <tbody>
          {% for object in object_list %}
          <tr>
            <td >{{ object.doctor_name }}</td>
              <td>{{ object.guide_number }}</th>
              <td>{{ object.query_date|date:"d/m/Y" }}</td>
              <td>{{ object.query_value }}</td>
              <td>188,00</td>
              <td>{{ object.exam_guide_number__exam_times }}</td>
            {% endfor %}
          </tr>
        </tbody>
      </table>
      <tfoot>
        {% include 'parciais/_pagination.html' %}
      </tfoot>
    </div> <!-- ./col-md-12 -->

<div>  <!-- ./row -->
{% endblock %}